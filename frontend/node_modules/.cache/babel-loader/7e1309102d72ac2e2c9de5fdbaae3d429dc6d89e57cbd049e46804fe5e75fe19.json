{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaop\\\\Desktop\\\\Unoeste ADS\\\\6-Sexto Bimestre\\\\Programa\\xE7\\xE3o Full Stack II\\\\backup_at1\\\\Atividade_1\\\\At_3\\\\frontend\\\\src\\\\componentes\\\\Telas\\\\Tabelas\\\\TabelaFuncionario.jsx\",\n  _s = $RefreshSig$();\nimport { Table, Button } from 'react-bootstrap';\nimport { excluir, consultarTodos } from '../../../servicos/funcionarioService';\nimport { useContext, useEffect, useState } from 'react';\nimport { ContextoUsuarioLogado } from '../../../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TabelaFuncionarios(props) {\n  _s();\n  const contextoUsuario = useContext(ContextoUsuarioLogado);\n  const [funcionarios, setFuncionarios] = useState([]);\n  useEffect(() => {\n    carregarFuncionarios();\n  }, []);\n  function carregarFuncionarios() {\n    const token = contextoUsuario.usuarioLogado.token;\n    consultarTodos(token).then(dados => {\n      // Garante que 'dados' é uma array antes de atualizar o estado\n      if (Array.isArray(dados)) {\n        setFuncionarios(dados);\n      } else {\n        console.error(\"Dados recebidos não são uma lista válida de funcionários:\", dados);\n      }\n    }).catch(erro => alert(\"Erro ao carregar funcionários: \" + erro.message));\n  }\n  function manipularExclusao(codigo) {\n    const token = contextoUsuario.usuarioLogado.token;\n    if (window.confirm(\"Tem certeza que deseja excluir este funcionário?\")) {\n      excluir(codigo, token).then(resposta => {\n        alert(resposta.mensagem);\n        if (resposta.status) {\n          carregarFuncionarios(); // Atualiza a lista de funcionários após exclusão\n        }\n      }).catch(erro => {\n        alert(\"Erro ao tentar excluir: \" + erro.message);\n      });\n    }\n  }\n  function manipularEdicao(funcionario) {\n    props.setModoEdicao(true);\n    props.setFuncionarioSelecionado(funcionario);\n    props.setExibirTabela(false); // Exibe o formulário de edição\n  }\n  return /*#__PURE__*/_jsxDEV(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"C\\xF3digo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Data de Admiss\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Cargo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Departamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"A\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: funcionarios.length > 0 ? funcionarios.map(funcionario => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.codigo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.dataAdmissao\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.cargo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.departamento\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: () => manipularEdicao(funcionario),\n            className: \"me-2\",\n            children: \"Editar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => manipularExclusao(funcionario.codigo),\n            children: \"Excluir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this)]\n      }, funcionario.codigo, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: \"6\",\n          children: \"Nenhum funcion\\xE1rio encontrado.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(TabelaFuncionarios, \"800nWVVMjZV08VtFaG1hCovGShg=\");\n_c = TabelaFuncionarios;\nvar _c;\n$RefreshReg$(_c, \"TabelaFuncionarios\");","map":{"version":3,"names":["Table","Button","excluir","consultarTodos","useContext","useEffect","useState","ContextoUsuarioLogado","jsxDEV","_jsxDEV","TabelaFuncionarios","props","_s","contextoUsuario","funcionarios","setFuncionarios","carregarFuncionarios","token","usuarioLogado","then","dados","Array","isArray","console","error","catch","erro","alert","message","manipularExclusao","codigo","window","confirm","resposta","mensagem","status","manipularEdicao","funcionario","setModoEdicao","setFuncionarioSelecionado","setExibirTabela","striped","bordered","hover","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","nome","dataAdmissao","cargo","departamento","variant","onClick","className","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/joaop/Desktop/Unoeste ADS/6-Sexto Bimestre/Programação Full Stack II/backup_at1/Atividade_1/At_3/frontend/src/componentes/Telas/Tabelas/TabelaFuncionario.jsx"],"sourcesContent":["import { Table, Button } from 'react-bootstrap';\nimport { excluir, consultarTodos } from '../../../servicos/funcionarioService';\nimport { useContext, useEffect, useState } from 'react';\nimport { ContextoUsuarioLogado } from '../../../App';\n\nexport default function TabelaFuncionarios(props) {\n    const contextoUsuario = useContext(ContextoUsuarioLogado);\n    const [funcionarios, setFuncionarios] = useState([]);\n\n    useEffect(() => {\n        carregarFuncionarios();\n    }, []);\n\n    function carregarFuncionarios() {\n        const token = contextoUsuario.usuarioLogado.token;\n        consultarTodos(token)\n            .then((dados) => {\n                // Garante que 'dados' é uma array antes de atualizar o estado\n                if (Array.isArray(dados)) {\n                    setFuncionarios(dados);\n                } else {\n                    console.error(\"Dados recebidos não são uma lista válida de funcionários:\", dados);\n                }\n            })\n            .catch((erro) => alert(\"Erro ao carregar funcionários: \" + erro.message));\n    }\n\n    function manipularExclusao(codigo) {\n        const token = contextoUsuario.usuarioLogado.token;\n        if (window.confirm(\"Tem certeza que deseja excluir este funcionário?\")) {\n            excluir(codigo, token)\n                .then((resposta) => {\n                    alert(resposta.mensagem);\n                    if (resposta.status) {\n                        carregarFuncionarios(); // Atualiza a lista de funcionários após exclusão\n                    }\n                })\n                .catch((erro) => {\n                    alert(\"Erro ao tentar excluir: \" + erro.message);\n                });\n        }\n    }\n\n    function manipularEdicao(funcionario) {\n        props.setModoEdicao(true);\n        props.setFuncionarioSelecionado(funcionario);\n        props.setExibirTabela(false); // Exibe o formulário de edição\n    }\n\n    return (\n        <Table striped bordered hover>\n            <thead>\n                <tr>\n                    <th>Código</th>\n                    <th>Nome</th>\n                    <th>Data de Admissão</th>\n                    <th>Cargo</th>\n                    <th>Departamento</th>\n                    <th>Ações</th>\n                </tr>\n            </thead>\n            <tbody>\n                {funcionarios.length > 0 ? (\n                    funcionarios.map((funcionario) => (\n                        <tr key={funcionario.codigo}>\n                            <td>{funcionario.codigo}</td>\n                            <td>{funcionario.nome}</td>\n                            <td>{funcionario.dataAdmissao}</td>\n                            <td>{funcionario.cargo}</td>\n                            <td>{funcionario.departamento}</td>\n                            <td>\n                                <Button\n                                    variant=\"warning\"\n                                    onClick={() => manipularEdicao(funcionario)}\n                                    className=\"me-2\"\n                                >\n                                    Editar\n                                </Button>\n                                <Button\n                                    variant=\"danger\"\n                                    onClick={() => manipularExclusao(funcionario.codigo)}\n                                >\n                                    Excluir\n                                </Button>\n                            </td>\n                        </tr>\n                    ))\n                ) : (\n                    <tr>\n                        <td colSpan=\"6\">Nenhum funcionário encontrado.</td>\n                    </tr>\n                )}\n            </tbody>\n        </Table>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
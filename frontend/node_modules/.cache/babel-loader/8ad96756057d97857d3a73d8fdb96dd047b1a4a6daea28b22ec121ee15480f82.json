{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaop\\\\Desktop\\\\Unoeste ADS\\\\6-Sexto Bimestre\\\\Programa\\xE7\\xE3o Full Stack II\\\\backup_at1\\\\Atividade_1\\\\At_3\\\\frontend\\\\src\\\\componentes\\\\Telas\\\\Tabelas\\\\TabelaFuncionario.jsx\",\n  _s = $RefreshSig$();\nimport { Table, Button } from 'react-bootstrap';\nimport { excluir, consultarTodos } from '../../../servicos/funcionarioService';\nimport { useContext, useEffect, useState } from 'react';\nimport { ContextoUsuarioLogado } from '../../../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TabelaFuncionarios(props) {\n  _s();\n  const contextoUsuario = useContext(ContextoUsuarioLogado);\n  const [funcionarios, setFuncionarios] = useState([]);\n  useEffect(() => {\n    carregarFuncionarios();\n  }, []);\n  function carregarFuncionarios() {\n    const token = contextoUsuario.usuarioLogado.token;\n    consultarTodos(token).then(dados => setFuncionarios(dados)).catch(erro => alert(\"Erro ao carregar funcionários: \" + erro.message));\n  }\n  function manipularExclusao(codigo) {\n    const token = contextoUsuario.usuarioLogado.token;\n    if (window.confirm(\"Tem certeza que deseja excluir este funcionário?\")) {\n      excluir(codigo, token).then(resposta => {\n        alert(resposta.mensagem);\n        if (resposta.status) {\n          carregarFuncionarios(); // Atualiza a lista de funcionários após exclusão\n        }\n      }).catch(erro => {\n        alert(\"Erro ao tentar excluir: \" + erro.message);\n      });\n    }\n  }\n  function manipularEdicao(funcionario) {\n    props.setModoEdicao(true);\n    props.setFuncionarioSelecionado(funcionario);\n    props.setExibirTabela(false); // Exibe o formulário de edição\n  }\n  return /*#__PURE__*/_jsxDEV(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"C\\xF3digo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Data de Admiss\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Cargo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Departamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"A\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: funcionarios.map(funcionario => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.codigo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.dataAdmissao\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.cargo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: funcionario.departamento\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: () => manipularEdicao(funcionario),\n            className: \"me-2\",\n            children: \"Editar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => manipularExclusao(funcionario.codigo),\n            children: \"Excluir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, funcionario.codigo, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(TabelaFuncionarios, \"800nWVVMjZV08VtFaG1hCovGShg=\");\n_c = TabelaFuncionarios;\nvar _c;\n$RefreshReg$(_c, \"TabelaFuncionarios\");","map":{"version":3,"names":["Table","Button","excluir","consultarTodos","useContext","useEffect","useState","ContextoUsuarioLogado","jsxDEV","_jsxDEV","TabelaFuncionarios","props","_s","contextoUsuario","funcionarios","setFuncionarios","carregarFuncionarios","token","usuarioLogado","then","dados","catch","erro","alert","message","manipularExclusao","codigo","window","confirm","resposta","mensagem","status","manipularEdicao","funcionario","setModoEdicao","setFuncionarioSelecionado","setExibirTabela","striped","bordered","hover","children","fileName","_jsxFileName","lineNumber","columnNumber","map","nome","dataAdmissao","cargo","departamento","variant","onClick","className","_c","$RefreshReg$"],"sources":["C:/Users/joaop/Desktop/Unoeste ADS/6-Sexto Bimestre/Programação Full Stack II/backup_at1/Atividade_1/At_3/frontend/src/componentes/Telas/Tabelas/TabelaFuncionario.jsx"],"sourcesContent":["import { Table, Button } from 'react-bootstrap';\nimport { excluir, consultarTodos } from '../../../servicos/funcionarioService';\nimport { useContext, useEffect, useState } from 'react';\nimport { ContextoUsuarioLogado } from '../../../App';\n\nexport default function TabelaFuncionarios(props) {\n    const contextoUsuario = useContext(ContextoUsuarioLogado);\n    const [funcionarios, setFuncionarios] = useState([]);\n\n    useEffect(() => {\n        carregarFuncionarios();\n    }, []);\n\n    function carregarFuncionarios() {\n        const token = contextoUsuario.usuarioLogado.token;\n        consultarTodos(token)\n            .then((dados) => setFuncionarios(dados))\n            .catch((erro) => alert(\"Erro ao carregar funcionários: \" + erro.message));\n    }\n\n    function manipularExclusao(codigo) {\n        const token = contextoUsuario.usuarioLogado.token;\n        if (window.confirm(\"Tem certeza que deseja excluir este funcionário?\")) {\n            excluir(codigo, token)\n                .then((resposta) => {\n                    alert(resposta.mensagem);\n                    if (resposta.status) {\n                        carregarFuncionarios(); // Atualiza a lista de funcionários após exclusão\n                    }\n                })\n                .catch((erro) => {\n                    alert(\"Erro ao tentar excluir: \" + erro.message);\n                });\n        }\n    }\n\n    function manipularEdicao(funcionario) {\n        props.setModoEdicao(true);\n        props.setFuncionarioSelecionado(funcionario);\n        props.setExibirTabela(false); // Exibe o formulário de edição\n    }\n\n    return (\n        <Table striped bordered hover>\n            <thead>\n                <tr>\n                    <th>Código</th>\n                    <th>Nome</th>\n                    <th>Data de Admissão</th>\n                    <th>Cargo</th>\n                    <th>Departamento</th>\n                    <th>Ações</th>\n                </tr>\n            </thead>\n            <tbody>\n                {funcionarios.map((funcionario) => (\n                    <tr key={funcionario.codigo}>\n                        <td>{funcionario.codigo}</td>\n                        <td>{funcionario.nome}</td>\n                        <td>{funcionario.dataAdmissao}</td>\n                        <td>{funcionario.cargo}</td>\n                        <td>{funcionario.departamento}</td>\n                        <td>\n                            <Button\n                                variant=\"warning\"\n                                onClick={() => manipularEdicao(funcionario)}\n                                className=\"me-2\"\n                            >\n                                Editar\n                            </Button>\n                            <Button\n                                variant=\"danger\"\n                                onClick={() => manipularExclusao(funcionario.codigo)}\n                            >\n                                Excluir\n                            </Button>\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n        </Table>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}